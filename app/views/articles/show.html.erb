<%= javascript_include_tag "fetch-api-data", "data-turbo-track": "reload" %>

<div class="card my-4">
  <h1 class="card-title"><%= @article.title %></h1>

  <p class="card-subtitle">
    <%= author_and_date(@article) %>
  </p>

   <p><%= render_main_image(@article) %></p>

  <div class="card-body">
    <%= @article.body %>
  </div>

  <div class="card-actions">
    <%= link_to "Edit", edit_article_path(@article), class: 'btn' %>
  </div>

   <div class="card-carlessian-footer border-t-2 dark:border-neutral-600" >
    <%= render_tags @article %> |
    <%= render_votes @article %>
  </div>

  <div class="card-footer">
    <h2>Some ü™Ñ GenAI stuff coming soon...</h2>

      <div id="my-post-content" >
        <p id="my-placeholder" >
          <b>1. ‚ùå This aaa placeholder will be replaced with API data. (bard test!)</b>
          </p>
      </div>

      <div id="my-article-synoptic" >
        <p id="my-placeholder" >2. ‚ùå This placeholder will be replaced with a synoptic of the whole article (Palm/LangChainRb).</p>
      </div>

      <div id="my-article-image-synoptic" >
        <p id="my-placeholder" >3. ‚ùå This placeholder will be replaced with information on the image (Gemini).</p>
      </div>

          <script>
          // Call the fetchApiData function after the DOM is loaded
          document.addEventListener('DOMContentLoaded', fetchApiData);
          fetchApiData();
        </script>


      <%#= render_comments @article %>
      <%#= render_comment_form @article %>
      <%#= render_article_footer @article %>
    </div>

</div>
